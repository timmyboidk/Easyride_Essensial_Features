* * * * *

EasyRide 项目 README
==================

1\. 项目宗旨
--------

本文档旨在明确 EasyRide 出行平台的产品需求，包括其核心功能、目标用户、业务流程和关键特性，作为后续产品设计、开发、测试和迭代的依据 ^1^。

### 1.1. 项目背景与愿景

-   **背景**:

    -   后疫情时代，海外华人的出行需求（尤其是美国的旅行和学生往返）正在回暖 ^2^。

    -   美国公共交通系统相对匮乏，中长途出行高度依赖私家车，而多数华人学生和旅客缺乏这种灵活性 ^3^。

    -   现有的打车平台（如 Uber/Lyft）抽成高，不愿意服务远距离的订单，且存在语言沟通障碍和支付不便的问题 ^4^。

    -   现有的华人电召车市场缺乏规范，价格不透明，安全无保障，推广效率低下 ^5^。

-   **使命**:

    -   向华人群体提供舒适、高效、规范化的长距离接送与包车服务 ^6^。

    -   为中距离旅途提供更加灵活的点对点出行选择 ^7^。

-   **愿景**:

    -   为每一个群体提供灵活出行的机会，赋予每一个群体灵活/自由出行的能力 ^8^。

    -   成为开启或结束华人海外旅行的最好选择 ^9^。

### 1.2. 目标用户

-   **乘客端**:

    -   价格敏感型乘客：需要拼车节省费用的学生、年轻游客 ^10^。

    -   安全至上型乘客：尤其关注出行安全的女性乘客、为子女订车的家长 ^11^。

    -   有语言障碍的乘客：偏好中文服务的游客和新移民 ^12^。

    -   寻求风险保障的乘客：希望平台提供保险和司机资质审核的用户 ^13^。

    -   有特殊出行需求的乘客：如接送宠物、搬家、医疗接送等需要包车服务的用户 ^14^。

    -   赴美中国旅客及留学生群体 ^15^。

-   **司机端**:

    -   寻求更多订单的华人司机：包括专职或兼职司机，希望平台提供稳定客源，减少空驶 ^16^。

    -   追求更高净收入的司机：希望平台抽成低于 Uber/Lyft ^17^。

-   **平台运营方**:

    -   系统管理员、运营人员、客服人员 ^18^。

### 1.3. 项目目标

-   打破现有私域，连接用户需求与司机服务，帮助乘客匹配可靠司机，帮助司机获取客户资源 ^19^。

-   提供包车功能，满足个性化、灵活出行需求 ^20^。

-   提供安全保障：司机审查、行程分享、平台投保 ^21^。

-   提升用户权益：VIP服务、司机偏好选择 ^22^。

-   建立规范标准：司乘互评体系、智能匹配 ^23^。

-   降低华人海外出行难度，优化语言、服务、灵活性体验 ^24^。

-   提供拼车功能，降低成本，增加司机收入，减少资源浪费 ^25^。

2\. 技术架构方案
----------

### 2.1. 总体架构

-   **架构模式**: 基于微服务组织形式，前后端分离的 B/S 体系 ^26^。

-   **部署模式**: 基于 Kubernetes (k8s) 的容器化部署 ^27^。

### 2.2. 后端微服务

-   **技术栈**: Spring Boot, Java ^28^。

-   **核心微服务**:

    -   **用户服务 (user_service)**: 负责用户注册、登录、认证、资料管理和权限管理 ^29^。

    -   **订单服务 (order_service)**: 负责乘客下单、订单状态管理和实时位置跟踪接口 ^30^。

    -   **匹配服务 (matching_service)**: 负责自动匹配司机与订单，并支持司机手动选择 ^31^。

    -   **支付服务 (payment_service)**: 负责处理支付、司机钱包管理和提现功能 ^32^。

    -   **通知服务 (notification_service)**: 负责向乘客和司机发送通知 ^33^。

    -   **位置服务 (location_service)**: 负责实时获取和更新司机与乘客的位置，并提供位置查询 ^34^。

    -   **评价服务 (review_service)**: 负责处理乘客对司机的评价和评价管理 ^35^。

    -   **数据分析服务 (analytics_service)**: 负责收集和分析运营数据，并生成报表 ^36^。

    -   **管理后台服务 (admin_service)**: 负责平台运营管理、手动干预订单和系统配置 ^37^。

-   **API 网关**: Spring Cloud Gateway，用于统一入口、路由和认证 ^38^。

-   **服务注册与发现**: Eureka 或 Consul ^39^。

-   **配置中心**: Spring Cloud Config ^40^。

-   **消息队列**: RocketMQ，用于异步任务和服务解耦 ^41^。

-   **数据库**:

    -   关系型数据库: MySQL ^42^。

    -   缓存数据库: Redis ^43^。

### 2.3. 前端应用

-   **iOS 客户端 (乘客端 & 司机端)**:

    -   开发框架: Swift, SwiftUI ^44^。

    -   网络库: Alamofire (或原生 URLSession) ^45^。

    -   数据持久化: Core Data (或 SwiftData) ^46^。

    -   JSON 解析: Codable ^47^。

    -   地图与定位: MapKit, CoreLocation ^48^。

    -   推送通知: APNS (可集成 Firebase Cloud Messaging) ^49^。

-   **Web 管理前端**:

    -   前端框架: Vue.js + Vue Router + Vuex ^50^。

    -   请求库: Axios ^51^。

    -   数据可视化: AntV ^52^。

    -   加密库: Crypto.js ^53^。

### 2.4. 基础设施与 DevOps

-   **容器化**: Docker ^54^。

-   **容器编排**: Kubernetes (k8s) ^55^。

-   **服务网格**: Istio ^56^。

-   **版本控制**: Git ^57^。

-   **CI/CD**: Jenkins 或 GitLab CI/CD ^58^。

3\. 功能列表
--------

### 3.1. 通用功能

-   **用户注册与登录**:

    -   支持手机号+验证码注册/登录 ^59^。

    -   支持第三方登录（如微信） ^60^。

    -   支持密码登录/忘记密码功能 ^61^。

-   **个人资料管理**:

    -   乘客可以管理昵称、头像、联系方式、支付方式和常用地址 ^62^。

    -   司机可以管理基本信息、车辆信息、服务区域、收款账户和接单偏好 ^63^。

-   **消息通知系统**:

    -   订单状态更新（接单、到达、开始/结束行程、取消等） ^64^。

    -   系统消息和活动通知 ^65^。

    -   应用内推送和短信推送 (APNS for iOS) ^66^。

-   **评价与评分系统**:

    -   乘客可以对司机进行评分、文字评价和标签选择 ^67^。

    -   司机可以对乘客进行评分和标签评价 ^68^。

    -   后台可对评价进行审核管理 ^69^。

    -   司机接单前可查看乘客评分 ^70^。

    -   乘客下单时可根据偏好的司机标签进行筛选或作为匹配权重 ^71^。

-   **钱包与支付**:

    -   乘客可以绑定多种支付方式，包括信用卡、借记卡和第三方支付平台（如 Apple Pay, Google Pay, PayPal） ^72^。

    -   司机拥有应用内钱包，可查看收入明细、发起提现 ^73^。

    -   平台可以管理交易流水和处理退款 ^74^。

-   **客服与帮助中心**:

    -   提供常见问题解答（FAQ） ^75^。

    -   提供在线客服/工单系统 ^76^。

-   **安全中心**:

    -   提供一键报警功能 ^77^。

    -   支持行程分享 ^78^。

### 3.2. 乘客端 App (iOS) 核心功能

-   **首页与叫车**:

    -   地图展示当前位置及附近可用车辆 ^79^。

    -   智能提示地址输入 ^80^。

    -   支持多种服务类型选择，包括机场接送、长途出行、包车服务和拼车服务 ^81^。

    -   预估价格与车型选择 ^82^。

    -   支持预约用车 ^83^。

-   **订单匹配与行程中**:

    -   查看订单状态和匹配中的司机信息 ^84^。

    -   实时查看司机在地图上的位置及预计到达时间 ^85^。

    -   提供应用内 IM 或实时语音通话功能 ^86^。

-   **支付与评价**:

    -   行程结束后自动计算费用并支持多种支付方式 ^87^。

    -   查看费用明细 ^88^。

    -   对司机进行评分、文字评价和标签选择 ^89^。

-   **行程管理**:

    -   查看当前和历史行程记录 ^90^。

    -   根据规则取消订单 ^91^。

-   **个性化设置**:

    -   设置常用地址 ^92^。

    -   支持司机偏好选择 ^93^。

    -   VIP 等级与权益 ^94^。

    -   支持收藏司机 ^95^。

### 3.3. 司机端 App (iOS) 核心功能

-   **注册与认证**: 提交个人和车辆信息进行资质审核 ^96^。

-   **工作台与接单**:

    -   设置上线/下线状态 ^97^。

    -   接收和选择订单 ^98^。

    -   查看可抢订单列表和平台推荐订单 ^99^。

    -   查看历史收益和车程历史 ^100^。

-   **行程中服务**:

    -   确认开始和结束行程 ^101^。

    -   应用内集成导航服务 ^102^。

    -   实时上传位置信息 ^103^。

    -   与乘客进行安全通讯 ^104^。

-   **收入与钱包**:

    -   查看收入明细和平台抽成 ^105^。

    -   管理应用内钱包余额和申请提现 ^106^。

-   **评价管理**:

    -   查看乘客对自己的评价 ^107^。

    -   对乘客进行评价 ^108^。

-   **个人设置**:

    -   管理车辆信息 ^109^。

    -   设置接单偏好 ^110^。

### 3.4. Web 管理后台核心功能

-   **仪表盘**:

    -   核心运营数据概览 ^111^。

    -   系统状态监控 ^112^。

-   **用户管理**:

    -   查看、搜索和编辑乘客、司机账户信息 ^113^。

    -   支持账户启用/禁用 ^114^。

-   **司机管理**:

    -   审核司机入驻申请和资质 ^115^。

    -   查看司机服务记录和评价 ^116^。

    -   处理司机违规行为 ^117^。

-   **订单管理**:

    -   实时监控和手动干预订单 ^118^。

    -   处理异常订单和用户投诉 ^119^。

-   **财务管理**:

    -   查看交易流水和支付记录 ^120^。

    -   管理司机提现申请和生成财务报表 ^121^。

-   **评价管理**:

    -   查看和管理用户评价 ^122^。

    -   处理恶意评价和配置评分检测规则 ^123^。

-   **运营与营销管理**:

    -   配置优惠券、营销活动和会员权益规则 ^124^。

    -   管理推送通知 ^125^。

-   **数据分析与报表**:

    -   提供多维度数据分析报表 ^126^。

    -   数据可视化 ^127^。

-   **系统配置与权限管理**:

    -   配置服务区域、价格规则、平台抽佣比例等 ^128^。

    -   管理后台用户角色与权限 ^129^。

    -   配置 AI 安全监控算法参数 ^130^。
